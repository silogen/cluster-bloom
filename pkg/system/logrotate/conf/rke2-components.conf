# RKE2 server control plane logs
/var/lib/rancher/rke2/server/logs/*.log
{
    size 100M
    rotate 10
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
    create 0640 root root
}

# RKE2 audit logs (separate config for larger size)
/var/lib/rancher/rke2/server/logs/audit.log
{
    size 500M
    rotate 10
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
    create 0600 root root
    maxage 30
}

# RKE2 agent logs
/var/lib/rancher/rke2/agent/logs/*.log
{
    size 100M
    rotate 10
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
}

# RKE2 containerd
/var/lib/rancher/rke2/agent/containerd/containerd.log
{
    size 100M
    rotate 10
    compress
    delaycompress
    missingok
    notifempty
    create 0640 root root
    dateext
}

# Pod logs
/var/log/pods/*/*/*.log
{
    size 200M
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
}

# Container logs (symlinks)
/var/log/containers/*.log
{
    size 200M
    rotate 7
    compress
    delaycompress
    missingok
    notifempty
    copytruncate
    dateext
}